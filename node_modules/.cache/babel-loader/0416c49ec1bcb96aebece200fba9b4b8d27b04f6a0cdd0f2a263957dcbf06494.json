{"ast":null,"code":"import{useEffect}from\"react\";import{useWorkoutsContext}from\"../hooks/useWorkoutsContext\";import{useAuthContext}from\"../hooks/useAuthContext\";// components\nimport WorkoutDetails from\"../components/WorkoutDetails\";import WorkoutForm from\"../components/workoutForm\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const{workouts,dispatch}=useWorkoutsContext();const{user}=useAuthContext();useEffect(()=>{const fetchWorkouts=async()=>{const response=await fetch('/api/workouts',{headers:{Authorization:\"Bearer \".concat(user.token)}});const json=await response.json();if(response.ok){dispatch({type:'SET_WORKOUTS',payload:json});}};if(user){fetchWorkouts();}},[dispatch,user]);return/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"workouts\",children:workouts&&workouts.map(workout=>/*#__PURE__*/_jsx(WorkoutDetails,{workout:workout},workout._id))}),/*#__PURE__*/_jsx(WorkoutForm,{})]});};export default Home;","map":{"version":3,"names":["useEffect","useWorkoutsContext","useAuthContext","WorkoutDetails","WorkoutForm","jsx","_jsx","jsxs","_jsxs","Home","workouts","dispatch","user","fetchWorkouts","response","fetch","headers","Authorization","concat","token","json","ok","type","payload","className","children","map","workout","_id"],"sources":["D:/MERN-Stack-Tutorial-lesson-2/WorkoutRoutine/frontend/src/pages/home.js"],"sourcesContent":["import { useEffect } from \"react\"\r\nimport { useWorkoutsContext } from \"../hooks/useWorkoutsContext\"\r\nimport { useAuthContext } from \"../hooks/useAuthContext\"\r\n\r\n// components\r\nimport WorkoutDetails from \"../components/WorkoutDetails\"\r\nimport WorkoutForm from \"../components/workoutForm\"\r\n\r\nconst Home = () => {\r\n  const { workouts, dispatch } = useWorkoutsContext()\r\n  const { user } = useAuthContext()\r\n\r\n  useEffect(() => {\r\n    const fetchWorkouts = async () => {\r\n      \r\n      const response = await fetch('/api/workouts', { \r\n        headers: { \r\n          Authorization: `Bearer ${user.token}` \r\n        } \r\n      })\r\n      \r\n      const json = await response.json()\r\n\r\n      if (response.ok) {\r\n        dispatch({type: 'SET_WORKOUTS', payload: json})\r\n      }\r\n    }\r\n\r\n    if (user) {\r\n      fetchWorkouts()\r\n    }\r\n  }, [dispatch, user])\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"workouts\">\r\n        {workouts && workouts.map(workout => (\r\n          <WorkoutDetails workout={workout} key={workout._id} />\r\n        ))}\r\n      </div>\r\n      <WorkoutForm />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,kBAAkB,KAAQ,6BAA6B,CAChE,OAASC,cAAc,KAAQ,yBAAyB,CAExD;AACA,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CACzD,MAAO,CAAAC,WAAW,KAAM,2BAA2B,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAAEC,QAAQ,CAAEC,QAAS,CAAC,CAAGV,kBAAkB,CAAC,CAAC,CACnD,KAAM,CAAEW,IAAK,CAAC,CAAGV,cAAc,CAAC,CAAC,CAEjCF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,aAAa,CAAG,KAAAA,CAAA,GAAY,CAEhC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,eAAe,CAAE,CAC5CC,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYN,IAAI,CAACO,KAAK,CACrC,CACF,CAAC,CAAC,CAEF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAN,QAAQ,CAACM,IAAI,CAAC,CAAC,CAElC,GAAIN,QAAQ,CAACO,EAAE,CAAE,CACfV,QAAQ,CAAC,CAACW,IAAI,CAAE,cAAc,CAAEC,OAAO,CAAEH,IAAI,CAAC,CAAC,CACjD,CACF,CAAC,CAED,GAAIR,IAAI,CAAE,CACRC,aAAa,CAAC,CAAC,CACjB,CACF,CAAC,CAAE,CAACF,QAAQ,CAAEC,IAAI,CAAC,CAAC,CAEpB,mBACEJ,KAAA,QAAKgB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBnB,IAAA,QAAKkB,SAAS,CAAC,UAAU,CAAAC,QAAA,CACtBf,QAAQ,EAAIA,QAAQ,CAACgB,GAAG,CAACC,OAAO,eAC/BrB,IAAA,CAACH,cAAc,EAACwB,OAAO,CAAEA,OAAQ,EAAMA,OAAO,CAACC,GAAM,CACtD,CAAC,CACC,CAAC,cACNtB,IAAA,CAACF,WAAW,GAAE,CAAC,EACZ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAK,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}